<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tin ho·∫°t ƒë·ªông</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    #thong-bao-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('nenthd.png');
      background-size: cover;
      background-position: center;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      padding: 1rem;
    }

    #thong-bao-content {
      background-color: white;
      padding: 1.5rem;
      border-radius: 0.75rem;
      max-width: 640px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
    }

    #thong-bao-content h2 {
      font-weight: bold;
      font-size: 1.25rem;
      color: #228B22;
      text-align: center;
      text-decoration: underline;
      margin-bottom: 1.25rem;
    }

    #thong-bao-content p {
      color: #228B22;
      margin-bottom: 0.5rem;
    }

    .button-container {
      display: flex;
      justify-content: center;
      margin-top: 1.5rem;
    }

    /* CSS cho th∆∞ vi·ªán ·∫£nh cu·ªôn ngang */
    .image-gallery {
      display: flex;
      overflow-x: auto; /* Cho ph√©p cu·ªôn ngang b·∫±ng tay */
      padding-bottom: 1rem;
      -webkit-overflow-scrolling: touch;
      position: relative;
      cursor: grab; /* Th√™m con tr·ªè k√©o */
    }

    .image-gallery img {
      height: 200px;
      width: auto;
      margin-right: 1rem;
      border-radius: 0.5rem;
      flex-shrink: 0; /* Quan tr·ªçng ƒë·ªÉ ·∫£nh kh√¥ng b·ªã co l·∫°i */
      cursor: pointer;
    }

    /* T√πy ch·ªânh thanh cu·ªôn (t√πy ch·ªçn) */
    .image-gallery::-webkit-scrollbar {
        height: 8px;
    }

    .image-gallery::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
    }

    .image-gallery::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 10px;
    }

    .image-gallery::-webkit-scrollbar-thumb:hover {
        background: #555;
    }

    /* CSS cho modal xem ·∫£nh */
    #image-viewer-modal {
      display: none; /* M·∫∑c ƒë·ªãnh ·∫©n */
      position: fixed;
      z-index: 1001;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.8);
      justify-content: center;
      align-items: center;
    }

    #image-viewer-content {
      position: relative;
      background-color: #fefefe;
      margin: auto;
      padding: 20px;
      border-radius: 8px;
      max-width: 90%;
      max-height: 90%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    #image-viewer-content img {
      max-width: 100%;
      max-height: 70vh;
      display: block;
      margin-bottom: 1rem;
      object-fit: contain;
    }

    .close-button, .download-button {
      background-color: #4CAF50;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      margin: 5px;
    }

    .close-button:hover, .download-button:hover {
      background-color: #45a049;
    }

    .viewer-buttons {
        display: flex;
        justify-content: center;
        width: 100%;
    }

    /* New styles for the close button within the full image view */
    .close-full-image {
      position: absolute;
      top: 15px; /* TƒÉng l√™n m·ªôt ch√∫t */
      right: 15px; /* D·ªãch v√†o m·ªôt ch√∫t */
      color: #FFF; /* M√†u tr·∫Øng cho d·ªÖ nh√¨n */
      background-color: rgba(0, 0, 0, 0.5); /* N·ªÅn ƒëen m·ªù ƒë·ªÉ n·ªïi b·∫≠t h∆°n */
      border-radius: 50%; /* Bo tr√≤n th√†nh h√¨nh tr√≤n */
      width: 35px; /* K√≠ch th∆∞·ªõc n√∫t */
      height: 35px; /* K√≠ch th∆∞·ªõc n√∫t */
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 24px; /* TƒÉng k√≠ch th∆∞·ªõc font */
      font-weight: bold;
      cursor: pointer;
      display: none; /* Hidden by default */
      z-index: 10; /* ƒê·∫£m b·∫£o n√∫t n·∫±m tr√™n ·∫£nh */
    }

    .close-full-image:hover,
    .close-full-image:focus {
      color: white;
      background-color: rgba(0, 0, 0, 0.8); /* ƒê·∫≠m h∆°n khi hover */
      text-decoration: none;
    }
  </style>
</head>
<body class="bg-gray-100">
  <div id="thong-bao-modal">
    <div id="thong-bao-content">
      <p>üé® L√∫c 15gi·ªù00, ng√†y 07/6/2025 * ƒë√£ khai gi·∫£ng l·ªõp v·∫Ω h√® 2025</p>
      <p>d√†nh cho h·ªçc sinh C·∫•p 1 & C·∫•p 2.</p>
      <p>üïí Th·ªùi gian h·ªçc: 15h30 ‚Äì 17h00 chi·ªÅu th·ª© B·∫£y h√†ng tu·∫ßn</p>
      <p>üìÜ L·ªãch h·ªçc: T·ª´ th√°ng 6 ƒë·∫øn tr∆∞·ªõc khai gi·∫£ng nƒÉm h·ªçc m·ªõi</p>
      <p>üí∞ H·ªçc ph√≠: MI·ªÑN PH√ç 100%</p>
      <p>üì∑ H√¨nh ·∫£nh khai gi·∫£ng l·ªõp v·∫Ω:</p>

      <div class="image-gallery">
        <img src="image1/V1.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 1">
        <img src="image1/V2.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 2">
        <img src="image1/V3.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 3">
        <img src="image1/V4.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 4">
        <img src="image1/V5.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 5">
        <img src="image1/V6.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 6">
        <img src="image1/V7.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 7">
        <img src="image1/V8.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 8">
        <img src="image1/v9.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 9">
        <img src="image1/v10.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 10">

        <img src="image1/V1.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 1">
        <img src="image1/V2.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 2">
        <img src="image1/V3.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 3">
        <img src="image1/V4.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 4">
        <img src="image1/V5.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 5">
        <img src="image1/V6.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 6">
        <img src="image1/V7.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 7">
        <img src="image1/V8.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 8">
        <img src="image1/v9.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 9">
        <img src="image1/v10.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 10">

        <img src="image1/V1.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 1">
        <img src="image1/V2.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 2">
        <img src="image1/V3.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 3">
        <img src="image1/V4.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 4">
        <img src="image1/V5.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 5">
        <img src="image1/V6.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 6">
        <img src="image1/V7.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 7">
        <img src="image1/V8.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 8">
        <img src="image1/v9.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 9">
        <img src="image1/v10.jpg" alt="H√¨nh ·∫£nh l·ªõp h·ªçc 10">
      </div>
      <p>üëâ <a href="https://weblop0dong.vercel.app" class="text-blue-600 underline">https://weblop0dong.vercel.app</a></p>

      <div class="button-container">
        <button id="close-thong-bao"
          class="px-4 py-2 bg-green-600 text-white text-base font-semibold rounded-full shadow hover:bg-green-700 transition">
          Tr·ªü l·∫°i trang ch·ªß
        </button>
      </div>
    </div>
  </div>

  <div id="image-viewer-modal">
    <div id="image-viewer-content">
      <span class="close-full-image" id="close-full-image-btn">&times;</span>
      <img id="full-image" src="" alt="·∫¢nh ph√≥ng to">
      <div class="viewer-buttons">
        <button id="download-image" class="download-button">Xem ·∫£nh ƒë·∫ßy ƒë·ªß</button>
        <button id="close-image-viewer" class="close-button">ƒê√≥ng</button>
      </div>
    </div>
  </div>

  <script>
    document.getElementById('close-thong-bao').addEventListener('click', function () {
      window.location.href = 'index.html';
    });

    const imageGallery = document.querySelector('.image-gallery');
    const images = document.querySelectorAll('.image-gallery img');
    const imageViewerModal = document.getElementById('image-viewer-modal');
    const fullImage = document.getElementById('full-image');
    const closeImageViewerBtn = document.getElementById('close-image-viewer');
    const viewFullImageBtn = document.getElementById('download-image');
    const viewerButtons = document.querySelector('.viewer-buttons');
    const closeFullImageBtn = document.getElementById('close-full-image-btn'); // New close button

    const originalImageCount = 10;
    let singleGalleryWidth = 0;
    let isDragging = false;
    let startX;
    let scrollLeft;

    // Calculate the width of the original set of images
    const calculateGalleryWidth = () => {
        singleGalleryWidth = 0;
        // Calculate based on the first 'originalImageCount' images (which is the first cloned set)
        for (let i = 0; i < originalImageCount; i++) {
            singleGalleryWidth += images[i].offsetWidth;
            singleGalleryWidth += parseFloat(getComputedStyle(images[i]).marginRight);
        }
    };

    // Event listeners for drag to scroll (mouse)
    imageGallery.addEventListener('mousedown', (e) => {
      isDragging = true;
      imageGallery.style.cursor = 'grabbing';
      startX = e.pageX - imageGallery.offsetLeft;
      scrollLeft = imageGallery.scrollLeft;
    });

    imageGallery.addEventListener('mouseleave', () => {
      isDragging = false;
      imageGallery.style.cursor = 'grab';
    });

    imageGallery.addEventListener('mouseup', () => {
      isDragging = false;
      imageGallery.style.cursor = 'grab';
    });

    imageGallery.addEventListener('mousemove', (e) => {
      if (!isDragging) return;
      e.preventDefault();
      const x = e.pageX - imageGallery.offsetLeft;
      const walk = (x - startX) * 1.5; // Adjusted scroll speed
      imageGallery.scrollLeft = scrollLeft - walk;
    });

    // Touch events for mobile devices
    imageGallery.addEventListener('touchstart', (e) => {
      isDragging = true;
      startX = e.touches[0].pageX - imageGallery.offsetLeft;
      scrollLeft = imageGallery.scrollLeft;
    });

    imageGallery.addEventListener('touchend', () => {
      isDragging = false;
    });

    imageGallery.addEventListener('touchmove', (e) => {
      if (!isDragging) return;
      const x = e.touches[0].pageX - imageGallery.offsetLeft;
      const walk = (x - startX) * 1.5; // Adjusted scroll speed
      imageGallery.scrollLeft = scrollLeft - walk;
    });


    // Loop scrolling logic for 3 sets of images
    imageGallery.addEventListener('scroll', function() {
        if (singleGalleryWidth === 0) {
            calculateGalleryWidth();
        }

        // If scrolled past the original set (into the first cloned set)
        if (imageGallery.scrollLeft >= singleGalleryWidth * 2) {
            // Jump back to the start of the original set
            imageGallery.scrollLeft = singleGalleryWidth;
        }
        // If scrolled backwards before the original set (into the last cloned set)
        else if (imageGallery.scrollLeft < singleGalleryWidth) {
            if (imageGallery.scrollLeft <= 0) { // If scrolled completely to the start of the last cloned set
                // Jump to the start of the second cloned set (which is effectively the last part of the loop)
                imageGallery.scrollLeft = singleGalleryWidth * 2;
            }
        }
    });

    // Event listener for opening image viewer
    images.forEach(img => {
      img.addEventListener('click', function() {
        // Prevent accidental looping while modal is open
        imageGallery.style.overflowX = 'hidden';

        const imgSrc = this.getAttribute('src');
        fullImage.src = imgSrc;
        imageViewerModal.style.display = 'flex';
        document.body.style.overflow = 'hidden'; // Prevent body scrolling
        viewerButtons.style.display = 'flex';
        closeFullImageBtn.style.display = 'none'; // Hide the full image close button initially
        fullImage.style.maxWidth = '100%';
        fullImage.style.maxHeight = '70vh';
      });
    });

    // Event listener for closing image viewer
    closeImageViewerBtn.addEventListener('click', function() {
      imageViewerModal.style.display = 'none';
      imageGallery.style.overflowX = 'auto'; // Re-enable manual scroll
      document.body.style.overflow = ''; // Allow body scrolling
      viewerButtons.style.display = 'flex';
      closeFullImageBtn.style.display = 'none'; // Ensure it's hidden when closing modal
      fullImage.style.maxWidth = '100%';
      fullImage.style.maxHeight = '70vh';
    });

    // Event listener for "Xem ·∫£nh ƒë·∫ßy ƒë·ªß" button
    viewFullImageBtn.addEventListener('click', function() {
      viewerButtons.style.display = 'none';
      closeFullImageBtn.style.display = 'flex'; // Show the new close button
      fullImage.style.maxWidth = '95%';
      fullImage.style.maxHeight = '95vh';
    });

    // Event listener for the new "X" button to return from full screen
    closeFullImageBtn.addEventListener('click', function() {
      viewerButtons.style.display = 'flex'; // Show the original buttons again
      closeFullImageBtn.style.display = 'none'; // Hide this close button
      fullImage.style.maxWidth = '100%'; // Revert image size
      fullImage.style.maxHeight = '70vh'; // Revert image size
    });


    // Initial scroll position when the page loads
    window.addEventListener('load', () => {
        if (images.length > 0) {
             calculateGalleryWidth();
             // Start at the beginning of the original image set (the middle set)
             imageGallery.scrollLeft = singleGalleryWidth;
        }
    });
  </script>
</body>
</html>
